(()=>{var e={};e.id=620,e.ids=[620],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5739:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>d,serverHooks:()=>x,workAsyncStorage:()=>c,workUnitAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{GET:()=>u,POST:()=>p});var o=t(6559),n=t(8088),i=t(7719),a=t(2190);async function p(e){try{let{type:r,comparisonData:t,email:s}=await e.json();if(!r||!["pdf","email"].includes(r))return a.NextResponse.json({error:'Export type must be either "pdf" or "email"'},{status:400});if(!t)return a.NextResponse.json({error:"Comparison data is required for export"},{status:400});if("email"===r&&!s)return a.NextResponse.json({error:"Email address is required for email export"},{status:400});if("pdf"===r)return await new Promise(e=>setTimeout(e,2e3)),a.NextResponse.json({success:!0,downloadUrl:"/api/download/policy-comparison-report.pdf",fileName:"policy-comparison-report.pdf",message:"PDF report generated successfully"});if("email"===r)return await new Promise(e=>setTimeout(e,2e3)),a.NextResponse.json({success:!0,recipient:s,message:`Report sent successfully to ${s}`})}catch(e){return console.error("Export error:",e),a.NextResponse.json({error:"Internal server error during export"},{status:500})}}async function u(e){let{searchParams:r}=new URL(e.url),t=r.get("file");if(!t)return a.NextResponse.json({error:"File name is required"},{status:400});let s=Buffer.from("Mock PDF content for demonstration");return new a.NextResponse(s,{headers:{"Content-Type":"application/pdf","Content-Disposition":`attachment; filename="${t}"`,"Content-Length":s.length.toString()}})}let d=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/export/route",pathname:"/api/export",filename:"route",bundlePath:"app/api/export/route"},resolvedPagePath:"/project/sandbox/user-workspace/src/app/api/export/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:c,workUnitAsyncStorage:l,serverHooks:x}=d;function m(){return(0,i.patchFetch)({workAsyncStorage:c,workUnitAsyncStorage:l})}},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,580],()=>t(5739));module.exports=s})();